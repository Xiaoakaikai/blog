{"remainingRequest":"E:\\projects\\blog\\blog-admin\\node_modules\\thread-loader\\dist\\cjs.js!E:\\projects\\blog\\blog-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\projects\\blog\\blog-admin\\src\\utils\\tag-cloud.js","dependencies":[{"path":"E:\\projects\\blog\\blog-admin\\src\\utils\\tag-cloud.js","mtime":1675760965000},{"path":"E:\\projects\\blog\\blog-admin\\babel.config.js","mtime":1675760965000},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680778862035},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1680778862494},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1680778862378}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCJFOi9wcm9qZWN0cy9ibG9nL2Jsb2ctYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIikuZGVmYXVsdDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKLyogZXNsaW50LWRpc2FibGUgbm8tcmVkZWNsYXJlICovCi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovCi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovCiFmdW5jdGlvbiAodCwgZSkgewogICJvYmplY3QiID09ICh0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZXhwb3J0cykpICYmICJvYmplY3QiID09ICh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSA/IG1vZHVsZS5leHBvcnRzID0gZSgpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoIlRhZ0Nsb3VkIiwgW10sIGUpIDogIm9iamVjdCIgPT0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgPyBleHBvcnRzLlRhZ0Nsb3VkID0gZSgpIDogdC5UYWdDbG91ZCA9IGUoKTsKfSgidW5kZWZpbmVkIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICBmdW5jdGlvbiBlKG8pIHsKICAgICAgaWYgKG5bb10pIHJldHVybiBuW29dLmV4cG9ydHM7CiAgICAgIHZhciByID0gbltvXSA9IHsKICAgICAgICBpOiBvLAogICAgICAgIGw6ICExLAogICAgICAgIGV4cG9ydHM6IHt9CiAgICAgIH07CiAgICAgIHJldHVybiB0W29dLmNhbGwoci5leHBvcnRzLCByLCByLmV4cG9ydHMsIGUpLCByLmwgPSAhMCwgci5leHBvcnRzOwogICAgfQogICAgdmFyIG4gPSB7fTsKICAgIHJldHVybiBlLm0gPSB0LCBlLmMgPSBuLCBlLmQgPSBmdW5jdGlvbiAodCwgbiwgbykgewogICAgICBlLm8odCwgbikgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIG4sIHsKICAgICAgICBjb25maWd1cmFibGU6ICExLAogICAgICAgIGVudW1lcmFibGU6ICEwLAogICAgICAgIGdldDogbwogICAgICB9KTsKICAgIH0sIGUubiA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBuID0gdCAmJiB0Ll9fZXNNb2R1bGUgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHQuZGVmYXVsdDsKICAgICAgfSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdDsKICAgICAgfTsKICAgICAgcmV0dXJuIGUuZChuLCAiYSIsIG4pLCBuOwogICAgfSwgZS5vID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBlKTsKICAgIH0sIGUucCA9ICIvZGlzdC8iLCBlKGUucyA9IDEpOwogIH0oW2Z1bmN0aW9uICh0LCBlLCBuKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgZS5hID0gewogICAgICBuYW1lOiAidGFnQ2xvdWQiLAogICAgICBwcm9wczogewogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHR5cGU6IEFycmF5LAogICAgICAgICAgZGVmYXVsdDogW10KICAgICAgICB9LAogICAgICAgIGNvbmZpZzogewogICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgZGVmYXVsdDogbnVsbAogICAgICAgIH0KICAgICAgfSwKICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgb3B0aW9uOiB7CiAgICAgICAgICAgIHJhZGl1czogMTIwLAogICAgICAgICAgICBtYXhGb250OiAyNCwKICAgICAgICAgICAgY29sb3I6IG51bGwsCiAgICAgICAgICAgIHJvdGF0ZUFuZ2xlWGJhc2U6IDUwMCwKICAgICAgICAgICAgcm90YXRlQW5nbGVZYmFzZTogNTAwLAogICAgICAgICAgICBob3ZlcjogITEKICAgICAgICAgIH0sCiAgICAgICAgICB0YWdMaXN0OiBbXQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgICAgbnVsbCAhPSB0aGlzLmNvbmZpZyAmJiAodGhpcy5vcHRpb24gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbiwgdGhpcy5jb25maWcpKTsKICAgICAgfSwKICAgICAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgICB0aGlzLl9pbml0VGFncygpOwogICAgICB9LAogICAgICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgICAgIHRoaXMudGltZXIgJiYgKGNsZWFySW50ZXJ2YWwodGhpcy50aW1lciksIHRoaXMudGltZXIgPSBudWxsKTsKICAgICAgfSwKICAgICAgd2F0Y2g6IHsKICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgICAgdmFyIHQgPSB0aGlzOwogICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0Ll9pbml0VGFncygpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgX2luaXRUYWdzOiBmdW5jdGlvbiBfaW5pdFRhZ3MoKSB7CiAgICAgICAgICBpZiAodGhpcy5yb3RhdGVBbmdsZVggPSBNYXRoLlBJIC8gdGhpcy5vcHRpb24ucm90YXRlQW5nbGVYYmFzZSwgdGhpcy5yb3RhdGVBbmdsZVkgPSBNYXRoLlBJIC8gdGhpcy5vcHRpb24ucm90YXRlQW5nbGVZYmFzZSwgdGhpcy5vcHRpb24uaG92ZXIpIHsKICAgICAgICAgICAgdmFyIHQgPSB0aGlzOwogICAgICAgICAgICB0aGlzLiRyZWZzLndyYXBwZXIub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHQucm90YXRlQW5nbGVZID0gKGUucGFnZVggLSB0aGlzLm9mZnNldExlZnQgLSB0aGlzLm9mZnNldFdpZHRoIC8gMikgLyAxZTQsIHQucm90YXRlQW5nbGVYID0gLShlLnBhZ2VZIC0gdGhpcy5vZmZzZXRUb3AgLSB0aGlzLm9mZnNldEhlaWdodCAvIDIpIC8gMWU0OwogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIHRoaXMuJHJlZnMud3JhcHBlci5vbm1vdXNlbW92ZSA9IG51bGw7CiAgICAgICAgICBmb3IgKHZhciBlID0gMCwgbiA9IHRoaXMuZGF0YS5sZW5ndGg7IGUgPCBuOyBlKyspIHsKICAgICAgICAgICAgdmFyIG8gPSBNYXRoLmFjb3MoKDIgKiAoZSArIDEpIC0gMSkgLyBuIC0gMSksCiAgICAgICAgICAgICAgciA9IG8gKiBNYXRoLnNxcnQobiAqIE1hdGguUEkpLAogICAgICAgICAgICAgIGkgPSB0aGlzLm9wdGlvbi5yYWRpdXMgKiBNYXRoLnNpbihvKSAqIE1hdGguY29zKHIpLAogICAgICAgICAgICAgIGEgPSB0aGlzLm9wdGlvbi5yYWRpdXMgKiBNYXRoLnNpbihvKSAqIE1hdGguc2luKHIpLAogICAgICAgICAgICAgIHMgPSB0aGlzLm9wdGlvbi5yYWRpdXMgKiBNYXRoLmNvcyhvKTsKICAgICAgICAgICAgdGhpcy5vcHRpb24uY29sb3IgPyB0aGlzLiRyZWZzLnRhZ1tlXS5zdHlsZS5jb2xvciA9IHRoaXMub3B0aW9uLmNvbG9yIDogdGhpcy4kcmVmcy50YWdbZV0uc3R5bGUuY29sb3IgPSAicmdiKCIgKyBNYXRoLnJvdW5kKDI1NSAqIE1hdGgucmFuZG9tKCkpICsgIiwiICsgTWF0aC5yb3VuZCgyNTUgKiBNYXRoLnJhbmRvbSgpKSArICIsIiArIE1hdGgucm91bmQoMjU1ICogTWF0aC5yYW5kb20oKSkgKyAiKSI7CiAgICAgICAgICAgIHZhciB1ID0gewogICAgICAgICAgICAgIHg6IGksCiAgICAgICAgICAgICAgeTogYSwKICAgICAgICAgICAgICB6OiBzLAogICAgICAgICAgICAgIGVsZTogdGhpcy4kcmVmcy50YWdbZV0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy50YWdMaXN0LnB1c2godSk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgZiA9IHRoaXM7CiAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IGYudGFnTGlzdC5sZW5ndGg7IHQrKykgZi5yb3RhdGVYKGYudGFnTGlzdFt0XSksIGYucm90YXRlWShmLnRhZ0xpc3RbdF0pLCBmLnNldFBvc2l0aW9uKGYudGFnTGlzdFt0XSwgZi5vcHRpb24ucmFkaXVzLCBmLm9wdGlvbi5tYXhGb250KTsKICAgICAgICAgIH0sIDIwKTsKICAgICAgICB9LAogICAgICAgIHNldFBvc2l0aW9uOiBmdW5jdGlvbiBzZXRQb3NpdGlvbih0LCBlLCBuKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLndyYXBwZXIgJiYgKHQuZWxlLnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoIiArICh0LnggKyB0aGlzLiRyZWZzLndyYXBwZXIub2Zmc2V0V2lkdGggLyAyIC0gdC5lbGUub2Zmc2V0V2lkdGggLyAyKSArICJweCwiICsgKHQueSArIHRoaXMuJHJlZnMud3JhcHBlci5vZmZzZXRIZWlnaHQgLyAyIC0gdC5lbGUub2Zmc2V0SGVpZ2h0IC8gMikgKyAicHgpIiwgdC5lbGUuc3R5bGUub3BhY2l0eSA9IHQueiAvIGUgLyAyICsgMC43LCB0LmVsZS5zdHlsZS5mb250U2l6ZSA9ICh0LnogLyBlIC8gMiArIDAuNSkgKiBuICsgInB4Iik7CiAgICAgICAgfSwKICAgICAgICByb3RhdGVYOiBmdW5jdGlvbiByb3RhdGVYKHQpIHsKICAgICAgICAgIHZhciBlID0gTWF0aC5jb3ModGhpcy5yb3RhdGVBbmdsZVgpLAogICAgICAgICAgICBuID0gTWF0aC5zaW4odGhpcy5yb3RhdGVBbmdsZVgpLAogICAgICAgICAgICBvID0gdC55ICogZSAtIHQueiAqIG4sCiAgICAgICAgICAgIHIgPSB0LnkgKiBuICsgdC56ICogZTsKICAgICAgICAgIHQueSA9IG8sIHQueiA9IHI7CiAgICAgICAgfSwKICAgICAgICByb3RhdGVZOiBmdW5jdGlvbiByb3RhdGVZKHQpIHsKICAgICAgICAgIHZhciBlID0gTWF0aC5jb3ModGhpcy5yb3RhdGVBbmdsZVkpLAogICAgICAgICAgICBuID0gTWF0aC5zaW4odGhpcy5yb3RhdGVBbmdsZVkpLAogICAgICAgICAgICBvID0gdC56ICogbiArIHQueCAqIGUsCiAgICAgICAgICAgIHIgPSB0LnogKiBlIC0gdC54ICogbjsKICAgICAgICAgIHQueCA9IG8sIHQueiA9IHI7CiAgICAgICAgfSwKICAgICAgICBkYmNsaWNrVGFnOiBmdW5jdGlvbiBkYmNsaWNrVGFnKCkgewogICAgICAgICAgaWYgKHRoaXMudGltZXIpIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lciksIHRoaXMudGltZXIgPSBudWxsO2Vsc2UgewogICAgICAgICAgICB2YXIgdCA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0LnRhZ0xpc3QubGVuZ3RoOyBlKyspIHQucm90YXRlWCh0LnRhZ0xpc3RbZV0pLCB0LnJvdGF0ZVkodC50YWdMaXN0W2VdKSwgdC5zZXRQb3NpdGlvbih0LnRhZ0xpc3RbZV0sIHQub3B0aW9uLnJhZGl1cywgdC5vcHRpb24ubWF4Rm9udCk7CiAgICAgICAgICAgIH0sIDIwKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsaWNrVGFnOiBmdW5jdGlvbiBjbGlja1RhZyh0KSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJjbGlja1RhZyIsIHQpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LCBmdW5jdGlvbiAodCwgZSwgbikgewogICAgInVzZSBzdHJpY3QiOwoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCAiX19lc01vZHVsZSIsIHsKICAgICAgdmFsdWU6ICEwCiAgICB9KTsKICAgIHZhciBvID0gbigyKSwKICAgICAgciA9IHsKICAgICAgICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKHQpIHsKICAgICAgICAgICJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93LlZ1ZSAmJiAodCA9IHdpbmRvdy5WdWUpLCB0LmNvbXBvbmVudChvLmEubmFtZSwgby5hKTsKICAgICAgICB9CiAgICAgIH07CiAgICBlLmRlZmF1bHQgPSByOwogIH0sIGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgZnVuY3Rpb24gbyh0KSB7CiAgICAgIG4oMyk7CiAgICB9CiAgICB2YXIgciA9IG4oMCksCiAgICAgIGkgPSBuKDkpLAogICAgICBhID0gbig4KSwKICAgICAgcyA9IG8sCiAgICAgIHUgPSBhKHIuYSwgaS5hLCAhMSwgcywgImRhdGEtdi03ZjlhZDhkOCIsIG51bGwpOwogICAgZS5hID0gdS5leHBvcnRzOwogIH0sIGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICB2YXIgbyA9IG4oNCk7CiAgICAic3RyaW5nIiA9PSB0eXBlb2YgbyAmJiAobyA9IFtbdC5pLCBvLCAiIl1dKSwgby5sb2NhbHMgJiYgKHQuZXhwb3J0cyA9IG8ubG9jYWxzKTsKICAgIG4oNikoIjNmYjlhOGJlIiwgbywgITAsIHt9KTsKICB9LCBmdW5jdGlvbiAodCwgZSwgbikgewogICAgZSA9IHQuZXhwb3J0cyA9IG4oNSkoITEpLCBlLnB1c2goW3QuaSwgIi50YWctY2xvdWRbZGF0YS12LTdmOWFkOGQ4XXt3aWR0aDozMDBweDtoZWlnaHQ6MzAwcHg7cG9zaXRpb246cmVsYXRpdmU7Y29sb3I6IzMzMzttYXJnaW46MCBhdXRvO3RleHQtYWxpZ246Y2VudGVyfS50YWctY2xvdWQgcFtkYXRhLXYtN2Y5YWQ4ZDhde3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtjb2xvcjojMzMzO2ZvbnQtZmFtaWx5OkFyaWFsO3RleHQtZGVjb3JhdGlvbjpub25lO21hcmdpbjowIDEwcHggMTVweCAwO2xpbmUtaGVpZ2h0OjE4cHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjE2cHg7cGFkZGluZzo0cHggOXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JvcmRlci1yYWRpdXM6M3B4fSIsICIiXSk7CiAgfSwgZnVuY3Rpb24gKHQsIGUpIHsKICAgIGZ1bmN0aW9uIG4odCwgZSkgewogICAgICB2YXIgbiA9IHRbMV0gfHwgIiIsCiAgICAgICAgciA9IHRbM107CiAgICAgIGlmICghcikgcmV0dXJuIG47CiAgICAgIGlmIChlICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIGJ0b2EpIHsKICAgICAgICB2YXIgaSA9IG8ocik7CiAgICAgICAgcmV0dXJuIFtuXS5jb25jYXQoci5zb3VyY2VzLm1hcChmdW5jdGlvbiAodCkgewogICAgICAgICAgcmV0dXJuICIvKiMgc291cmNlVVJMPSIgKyByLnNvdXJjZVJvb3QgKyB0ICsgIiAqLyI7CiAgICAgICAgfSkpLmNvbmNhdChbaV0pLmpvaW4oIlxuIik7CiAgICAgIH0KICAgICAgcmV0dXJuIFtuXS5qb2luKCJcbiIpOwogICAgfQogICAgZnVuY3Rpb24gbyh0KSB7CiAgICAgIHJldHVybiAiLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh0KSkpKSArICIgKi8iOwogICAgfQogICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGUgPSBbXTsKICAgICAgcmV0dXJuIGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgbyA9IG4oZSwgdCk7CiAgICAgICAgICByZXR1cm4gZVsyXSA/ICJAbWVkaWEgIiArIGVbMl0gKyAieyIgKyBvICsgIn0iIDogbzsKICAgICAgICB9KS5qb2luKCIiKTsKICAgICAgfSwgZS5pID0gZnVuY3Rpb24gKHQsIG4pIHsKICAgICAgICAic3RyaW5nIiA9PSB0eXBlb2YgdCAmJiAodCA9IFtbbnVsbCwgdCwgIiJdXSk7CiAgICAgICAgZm9yICh2YXIgbyA9IHt9LCByID0gMDsgciA8IHRoaXMubGVuZ3RoOyByKyspIHsKICAgICAgICAgIHZhciBpID0gdGhpc1tyXVswXTsKICAgICAgICAgICJudW1iZXIiID09IHR5cGVvZiBpICYmIChvW2ldID0gITApOwogICAgICAgIH0KICAgICAgICBmb3IgKHIgPSAwOyByIDwgdC5sZW5ndGg7IHIrKykgewogICAgICAgICAgdmFyIGEgPSB0W3JdOwogICAgICAgICAgIm51bWJlciIgPT0gdHlwZW9mIGFbMF0gJiYgb1thWzBdXSB8fCAobiAmJiAhYVsyXSA/IGFbMl0gPSBuIDogbiAmJiAoYVsyXSA9ICIoIiArIGFbMl0gKyAiKSBhbmQgKCIgKyBuICsgIikiKSwgZS5wdXNoKGEpKTsKICAgICAgICB9CiAgICAgIH0sIGU7CiAgICB9OwogIH0sIGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICBmdW5jdGlvbiBvKHQpIHsKICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSB7CiAgICAgICAgdmFyIG4gPSB0W2VdLAogICAgICAgICAgbyA9IGNbbi5pZF07CiAgICAgICAgaWYgKG8pIHsKICAgICAgICAgIG8ucmVmcysrOwogICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBvLnBhcnRzLmxlbmd0aDsgcisrKSBvLnBhcnRzW3JdKG4ucGFydHNbcl0pOwogICAgICAgICAgZm9yICg7IHIgPCBuLnBhcnRzLmxlbmd0aDsgcisrKSBvLnBhcnRzLnB1c2goaShuLnBhcnRzW3JdKSk7CiAgICAgICAgICBvLnBhcnRzLmxlbmd0aCA+IG4ucGFydHMubGVuZ3RoICYmIChvLnBhcnRzLmxlbmd0aCA9IG4ucGFydHMubGVuZ3RoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZm9yICh2YXIgYSA9IFtdLCByID0gMDsgciA8IG4ucGFydHMubGVuZ3RoOyByKyspIGEucHVzaChpKG4ucGFydHNbcl0pKTsKICAgICAgICAgIGNbbi5pZF0gPSB7CiAgICAgICAgICAgIGlkOiBuLmlkLAogICAgICAgICAgICByZWZzOiAxLAogICAgICAgICAgICBwYXJ0czogYQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHIoKSB7CiAgICAgIHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgcmV0dXJuIHQudHlwZSA9ICJ0ZXh0L2NzcyIsIGwuYXBwZW5kQ2hpbGQodCksIHQ7CiAgICB9CiAgICBmdW5jdGlvbiBpKHQpIHsKICAgICAgdmFyIGUsCiAgICAgICAgbiwKICAgICAgICBvID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic3R5bGVbIiArIG0gKyAnfj0iJyArIHQuaWQgKyAnIl0nKTsKICAgICAgaWYgKG8pIHsKICAgICAgICBpZiAoaCkgcmV0dXJuIGc7CiAgICAgICAgby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pOwogICAgICB9CiAgICAgIGlmICh5KSB7CiAgICAgICAgdmFyIGkgPSBwKys7CiAgICAgICAgbyA9IGQgfHwgKGQgPSByKCkpLCBlID0gYS5iaW5kKG51bGwsIG8sIGksICExKSwgbiA9IGEuYmluZChudWxsLCBvLCBpLCAhMCk7CiAgICAgIH0gZWxzZSBvID0gcigpLCBlID0gcy5iaW5kKG51bGwsIG8pLCBuID0gZnVuY3Rpb24gbigpIHsKICAgICAgICBvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyk7CiAgICAgIH07CiAgICAgIHJldHVybiBlKHQpLCBmdW5jdGlvbiAobykgewogICAgICAgIGlmIChvKSB7CiAgICAgICAgICBpZiAoby5jc3MgPT09IHQuY3NzICYmIG8ubWVkaWEgPT09IHQubWVkaWEgJiYgby5zb3VyY2VNYXAgPT09IHQuc291cmNlTWFwKSByZXR1cm47CiAgICAgICAgICBlKHQgPSBvKTsKICAgICAgICB9IGVsc2UgbigpOwogICAgICB9OwogICAgfQogICAgZnVuY3Rpb24gYSh0LCBlLCBuLCBvKSB7CiAgICAgIHZhciByID0gbiA/ICIiIDogby5jc3M7CiAgICAgIGlmICh0LnN0eWxlU2hlZXQpIHQuc3R5bGVTaGVldC5jc3NUZXh0ID0geChlLCByKTtlbHNlIHsKICAgICAgICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIpLAogICAgICAgICAgYSA9IHQuY2hpbGROb2RlczsKICAgICAgICBhW2VdICYmIHQucmVtb3ZlQ2hpbGQoYVtlXSksIGEubGVuZ3RoID8gdC5pbnNlcnRCZWZvcmUoaSwgYVtlXSkgOiB0LmFwcGVuZENoaWxkKGkpOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBzKHQsIGUpIHsKICAgICAgdmFyIG4gPSBlLmNzcywKICAgICAgICBvID0gZS5tZWRpYSwKICAgICAgICByID0gZS5zb3VyY2VNYXA7CiAgICAgIGlmIChvICYmIHQuc2V0QXR0cmlidXRlKCJtZWRpYSIsIG8pLCB2LnNzcklkICYmIHQuc2V0QXR0cmlidXRlKG0sIGUuaWQpLCByICYmIChuICs9ICJcbi8qIyBzb3VyY2VVUkw9IiArIHIuc291cmNlc1swXSArICIgKi8iLCBuICs9ICJcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSkpICsgIiAqLyIpLCB0LnN0eWxlU2hlZXQpIHQuc3R5bGVTaGVldC5jc3NUZXh0ID0gbjtlbHNlIHsKICAgICAgICBmb3IgKDsgdC5maXJzdENoaWxkOykgdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpOwogICAgICAgIHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpOwogICAgICB9CiAgICB9CiAgICB2YXIgdSA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBkb2N1bWVudDsKICAgIGlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgREVCVUcgJiYgREVCVUcgJiYgIXUpIHRocm93IG5ldyBFcnJvcigidnVlLXN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50LiBVc2UgeyB0YXJnZXQ6ICdub2RlJyB9IGluIHlvdXIgV2VicGFjayBjb25maWcgdG8gaW5kaWNhdGUgYSBzZXJ2ZXItcmVuZGVyaW5nIGVudmlyb25tZW50LiIpOwogICAgdmFyIGYgPSBuKDcpLAogICAgICBjID0ge30sCiAgICAgIGwgPSB1ICYmIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLAogICAgICBkID0gbnVsbCwKICAgICAgcCA9IDAsCiAgICAgIGggPSAhMSwKICAgICAgZyA9IGZ1bmN0aW9uIGcoKSB7fSwKICAgICAgdiA9IG51bGwsCiAgICAgIG0gPSAiZGF0YS12dWUtc3NyLWlkIiwKICAgICAgeSA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBuYXZpZ2F0b3IgJiYgL21zaWUgWzYtOV1cYi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpOwogICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKHQsIGUsIG4sIHIpIHsKICAgICAgaCA9IG4sIHYgPSByIHx8IHt9OwogICAgICB2YXIgaSA9IGYodCwgZSk7CiAgICAgIHJldHVybiBvKGkpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGZvciAodmFyIG4gPSBbXSwgciA9IDA7IHIgPCBpLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICB2YXIgYSA9IGlbcl0sCiAgICAgICAgICAgIHMgPSBjW2EuaWRdOwogICAgICAgICAgcy5yZWZzLS0sIG4ucHVzaChzKTsKICAgICAgICB9CiAgICAgICAgZSA/IChpID0gZih0LCBlKSwgbyhpKSkgOiBpID0gW107CiAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBuLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICB2YXIgcyA9IG5bcl07CiAgICAgICAgICBpZiAoMCA9PT0gcy5yZWZzKSB7CiAgICAgICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgcy5wYXJ0cy5sZW5ndGg7IHUrKykgcy5wYXJ0c1t1XSgpOwogICAgICAgICAgICBkZWxldGUgY1tzLmlkXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICB9OwogICAgdmFyIHggPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0ID0gW107CiAgICAgIHJldHVybiBmdW5jdGlvbiAoZSwgbikgewogICAgICAgIHJldHVybiB0W2VdID0gbiwgdC5maWx0ZXIoQm9vbGVhbikuam9pbigiXG4iKTsKICAgICAgfTsKICAgIH0oKTsKICB9LCBmdW5jdGlvbiAodCwgZSkgewogICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgZm9yICh2YXIgbiA9IFtdLCBvID0ge30sIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykgewogICAgICAgIHZhciBpID0gZVtyXSwKICAgICAgICAgIGEgPSBpWzBdLAogICAgICAgICAgcyA9IGlbMV0sCiAgICAgICAgICB1ID0gaVsyXSwKICAgICAgICAgIGYgPSBpWzNdLAogICAgICAgICAgYyA9IHsKICAgICAgICAgICAgaWQ6IHQgKyAiOiIgKyByLAogICAgICAgICAgICBjc3M6IHMsCiAgICAgICAgICAgIG1lZGlhOiB1LAogICAgICAgICAgICBzb3VyY2VNYXA6IGYKICAgICAgICAgIH07CiAgICAgICAgb1thXSA/IG9bYV0ucGFydHMucHVzaChjKSA6IG4ucHVzaChvW2FdID0gewogICAgICAgICAgaWQ6IGEsCiAgICAgICAgICBwYXJ0czogW2NdCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG47CiAgICB9OwogIH0sIGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbiAodCwgZSwgbiwgbywgciwgaSkgewogICAgICB2YXIgYSwKICAgICAgICBzID0gdCA9IHQgfHwge30sCiAgICAgICAgdSA9IF90eXBlb2YodC5kZWZhdWx0KTsKICAgICAgIm9iamVjdCIgIT09IHUgJiYgImZ1bmN0aW9uIiAhPT0gdSB8fCAoYSA9IHQsIHMgPSB0LmRlZmF1bHQpOwogICAgICB2YXIgZiA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHMgPyBzLm9wdGlvbnMgOiBzOwogICAgICBlICYmIChmLnJlbmRlciA9IGUucmVuZGVyLCBmLnN0YXRpY1JlbmRlckZucyA9IGUuc3RhdGljUmVuZGVyRm5zLCBmLl9jb21waWxlZCA9ICEwKSwgbiAmJiAoZi5mdW5jdGlvbmFsID0gITApLCByICYmIChmLl9zY29wZUlkID0gcik7CiAgICAgIHZhciBjOwogICAgICBpZiAoaSA/IChjID0gZnVuY3Rpb24gYyh0KSB7CiAgICAgICAgdCA9IHQgfHwgdGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dCB8fCB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC4kdm5vZGUgJiYgdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQsIHQgfHwgInVuZGVmaW5lZCIgPT0gdHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX18gfHwgKHQgPSBfX1ZVRV9TU1JfQ09OVEVYVF9fKSwgbyAmJiBvLmNhbGwodGhpcywgdCksIHQgJiYgdC5fcmVnaXN0ZXJlZENvbXBvbmVudHMgJiYgdC5fcmVnaXN0ZXJlZENvbXBvbmVudHMuYWRkKGkpOwogICAgICB9LCBmLl9zc3JSZWdpc3RlciA9IGMpIDogbyAmJiAoYyA9IG8pLCBjKSB7CiAgICAgICAgdmFyIGwgPSBmLmZ1bmN0aW9uYWwsCiAgICAgICAgICBkID0gbCA/IGYucmVuZGVyIDogZi5iZWZvcmVDcmVhdGU7CiAgICAgICAgbCA/IChmLl9pbmplY3RTdHlsZXMgPSBjLCBmLnJlbmRlciA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgICByZXR1cm4gYy5jYWxsKGUpLCBkKHQsIGUpOwogICAgICAgIH0pIDogZi5iZWZvcmVDcmVhdGUgPSBkID8gW10uY29uY2F0KGQsIGMpIDogW2NdOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZXNNb2R1bGU6IGEsCiAgICAgICAgZXhwb3J0czogcywKICAgICAgICBvcHRpb25zOiBmCiAgICAgIH07CiAgICB9OwogIH0sIGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgdmFyIG8gPSBmdW5jdGlvbiBvKCkgewogICAgICAgIHZhciB0ID0gdGhpcywKICAgICAgICAgIGUgPSB0LiRjcmVhdGVFbGVtZW50LAogICAgICAgICAgbiA9IHQuX3NlbGYuX2MgfHwgZTsKICAgICAgICByZXR1cm4gbigiZGl2IiwgewogICAgICAgICAgcmVmOiAid3JhcHBlciIsCiAgICAgICAgICBzdGF0aWNDbGFzczogInRhZy1jbG91ZCIKICAgICAgICB9LCB0Ll9sKHQuZGF0YSwgZnVuY3Rpb24gKGUsIG8pIHsKICAgICAgICAgIHJldHVybiBuKCJwIiwgewogICAgICAgICAgICBrZXk6IG8sCiAgICAgICAgICAgIHJlZjogInRhZyIsCiAgICAgICAgICAgIHJlZkluRm9yOiAhMCwKICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2sobikgewogICAgICAgICAgICAgICAgdC5jbGlja1RhZyhlKTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRibGNsaWNrOiBmdW5jdGlvbiBkYmxjbGljayhuKSB7CiAgICAgICAgICAgICAgICB0LmRiY2xpY2tUYWcoZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBbdC5fdih0Ll9zKGUubmFtZSkpXSk7CiAgICAgICAgfSkpOwogICAgICB9LAogICAgICByID0gW10sCiAgICAgIGkgPSB7CiAgICAgICAgcmVuZGVyOiBvLAogICAgICAgIHN0YXRpY1JlbmRlckZuczogcgogICAgICB9OwogICAgZS5hID0gaTsKICB9XSk7Cn0pOw=="},null]}
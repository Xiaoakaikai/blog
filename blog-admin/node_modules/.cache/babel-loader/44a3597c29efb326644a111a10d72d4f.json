{"remainingRequest":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\babel-loader\\lib\\index.js!D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\javaResource\\shiyi-blog-master\\blog-admin\\src\\views\\listener\\quartz\\log.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\src\\views\\listener\\quartz\\log.vue","mtime":1675760965000},{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\babel.config.js","mtime":1675760965000},{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680778862035},{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1680778862378},{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680778862035},{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1680778857385}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovamF2YVJlc291cmNlL3NoaXlpLWJsb2ctbWFzdGVyL2Jsb2ctYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgZmV0Y2hMaXN0IGFzIF9mZXRjaExpc3QsIGRlbGV0ZUJhdGNoLCBjbGVhbiB9IGZyb20gIkAvYXBpL3F1YXJ0ekxvZyI7CmltcG9ydCB7IHBhcnNlVGltZSB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgeyBnZXREYXRhQnlEaWN0VHlwZSB9IGZyb20gIkAvYXBpL2RpY3REYXRhIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBoYXNBdXRoIH0gZnJvbSAiQC91dGlscy9hdXRoIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJKb2JMb2ciLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDliqDovb3lsYLkv6Hmga8KICAgICAgbG9hZGluZzogW10sCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICBqb2JEaWN0TGlzdDogW10sCiAgICAgIGpvYkRpY3REZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOiwg+W6puaXpeW/l+ihqOagvOaVsOaNrgogICAgICBqb2JMb2dMaXN0OiBbXSwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDml6XmnJ/ojIPlm7QKICAgICAgZGF0ZVJhbmdlOiBbXSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcGFyYW1zOiB7CiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBzdGFydFRpbWU6IG51bGwsCiAgICAgICAgZW5kVGltZTogbnVsbCwKICAgICAgICBqb2JJZDogbnVsbCwKICAgICAgICBqb2JOYW1lOiBudWxsLAogICAgICAgIGpvYkdyb3VwOiBudWxsLAogICAgICAgIHN0YXR1czogbnVsbAogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMub3BlbkxvYWRpbmcoKTsKICAgIHZhciBqb2JJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmpvYklkOwogICAgaWYgKGpvYklkKSB7CiAgICAgIHRoaXMucGFyYW1zLmpvYklkID0gam9iSWQ7CiAgICB9CiAgICB0aGlzLmdldERpY3RMaXN0KCk7CiAgICB0aGlzLmZldGNoTGlzdCgpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ3ByZXMnXSkpLCB7fSwgewogICAgY2FuRGVsZXRlQmF0Y2g6IGZ1bmN0aW9uIGNhbkRlbGV0ZUJhdGNoKCkgewogICAgICByZXR1cm4gaGFzQXV0aCh0aGlzLnByZXMsICcvc3lzdGVtL2pvYkxvZy9kZWxldGVCYXRjaCcpOwogICAgfSwKICAgIGNhbkNsZWFuOiBmdW5jdGlvbiBjYW5DbGVhbigpIHsKICAgICAgcmV0dXJuIGhhc0F1dGgodGhpcy5wcmVzLCAnL3N5c3RlbS9qb2JMb2cvY2xlYW4nKTsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBnZXREaWN0TGlzdDogZnVuY3Rpb24gZ2V0RGljdExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBkaWN0VHlwZUxpc3QgPSBbJ3N5c19qb2JfZ3JvdXAnXTsKICAgICAgZ2V0RGF0YUJ5RGljdFR5cGUoZGljdFR5cGVMaXN0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkaWN0TWFwID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy5qb2JEaWN0TGlzdCA9IGRpY3RNYXAuc3lzX2pvYl9ncm91cC5saXN0OwogICAgICAgIF90aGlzLmpvYkRpY3REZWZhdWx0VmFsdWUgPSBkaWN0TWFwLnN5c19qb2JfZ3JvdXAuZGVmYXVsdFZhbHVlOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5p+l6K+i6LCD5bqm5pel5b+X5YiX6KGoICovCiAgICBmZXRjaExpc3Q6IGZ1bmN0aW9uIGZldGNoTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIF9mZXRjaExpc3QodGhpcy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmpvYkxvZ0xpc3QgPSByZXNwb25zZS5kYXRhLnJlY29yZHM7CiAgICAgICAgX3RoaXMyLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbDsKICAgICAgICBfdGhpczIubG9hZGluZy5jbG9zZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6L+U5Zue5oyJ6ZKuCiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3F1YXJ0eicKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRmluZDogZnVuY3Rpb24gaGFuZGxlRmluZCgpIHsKICAgICAgdGhpcy5wYXJhbXMucGFnZU5vID0gMTsKICAgICAgaWYgKHRoaXMuZGF0ZVJhbmdlLmxlbmd0aCkgewogICAgICAgIHRoaXMucGFyYW1zLnN0YXJ0VGltZSA9IHRoaXMuZGF0ZVJhbmdlWzBdOwogICAgICAgIHRoaXMucGFyYW1zLmVuZFRpbWUgPSB0aGlzLmRhdGVSYW5nZVsxXTsKICAgICAgfQogICAgICB0aGlzLmZldGNoTGlzdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLmRhdGVSYW5nZSA9IFtdOwogICAgICB0aGlzLnBhcmFtcy5zdGFydFRpbWUgPSBudWxsOwogICAgICB0aGlzLnBhcmFtcy5lbmRUaW1lID0gbnVsbDsKICAgICAgdGhpcy5wYXJhbXMuam9iTmFtZSA9IG51bGw7CiAgICAgIHRoaXMucGFyYW1zLmpvYkdyb3VwID0gbnVsbDsKICAgICAgdGhpcy5wYXJhbXMuc3RhdHVzID0gbnVsbDsKICAgICAgdGhpcy5mZXRjaExpc3QoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZDsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOivpue7huaMiemSruaTjeS9nCAqL2hhbmRsZVZpZXc6IGZ1bmN0aW9uIGhhbmRsZVZpZXcocm93KSB7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMuZm9ybSA9IHJvdzsKICAgIH0sCiAgICAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XorrDlvZUsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVsZXRlQmF0Y2goX3RoaXMzLmlkcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2VzcygiT0siKTsKICAgICAgICAgIF90aGlzMy5mZXRjaExpc3QoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOa4heepuuaMiemSruaTjeS9nCAqL2hhbmRsZUNsZWFuOiBmdW5jdGlvbiBoYW5kbGVDbGVhbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOa4heepuuaJgOacieiwg+W6puaXpeW/l+aVsOaNrumhuT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY2xlYW4oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCJPSyIpOwogICAgICAgICAgX3RoaXM0LmZldGNoTGlzdCgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI5riF56m6JwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhcmFtcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5mZXRjaExpc3QoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhcmFtcy5wYWdlTm8gPSB2YWw7CiAgICAgIHRoaXMuZmV0Y2hMaXN0KCk7CiAgICB9LAogICAgLy8g5omT5byA5Yqg6L295bGCCiAgICBvcGVuTG9hZGluZzogZnVuY3Rpb24gb3BlbkxvYWRpbmcoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgdGV4dDogIuato+WcqOWKoOi9veS4rX4iLAogICAgICAgIHNwaW5uZXI6ICJlbC1pY29uLWxvYWRpbmciLAogICAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiCiAgICAgIH0pOwogICAgfSwKICAgIGRhdGFGb3JtYXQ6IGZ1bmN0aW9uIGRhdGFGb3JtYXQodGltZSkgewogICAgICByZXR1cm4gcGFyc2VUaW1lKHRpbWUpOwogICAgfQogIH0KfTs="},{"version":3,"names":["fetchList","deleteBatch","clean","parseTime","getDataByDictType","mapGetters","hasAuth","name","data","loading","ids","jobDictList","jobDictDefaultValue","showSearch","total","jobLogList","open","dateRange","form","params","pageNo","pageSize","startTime","endTime","jobId","jobName","jobGroup","status","created","openLoading","$route","query","getDictList","computed","_objectSpread","canDeleteBatch","pres","canClean","methods","_this","dictTypeList","then","response","dictMap","sys_job_group","list","defaultValue","_this2","records","close","catch","err","console","log","handleClose","$router","push","path","handleFind","length","resetQuery","handleSelectionChange","selection","map","item","id","handleView","row","handleDelete","_this3","$confirm","confirmButtonText","cancelButtonText","type","res","$message","success","error","message","handleClean","_this4","handleSizeChange","val","handleCurrentChange","$loading","lock","text","spinner","background","dataFormat","time"],"sources":["src/views/listener/quartz/log.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form v-show=\"showSearch\" :inline=\"true\" ref=\"form\" :model=\"params\" label-width=\"68px\">\n      <el-form-item label=\"任务名称\">\n        <el-input style=\"width: 200px\" size=\"small\" v-model=\"params.jobName\" placeholder=\"请输入任务名称\" />\n      </el-form-item>\n      <el-form-item label=\"任务组名\">\n        <el-select size=\"small\" @change='handleFind' clearable style=\"margin-left: 5px\" v-model=\"params.jobGroup\" placeholder=\"请选择组名\">\n          <el-option\n            v-for=\"item in jobDictList\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          >\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"执行状态\">\n        <el-select size=\"small\" @change='handleFind' clearable style=\"margin-left: 5px\" v-model=\"params.status\" placeholder=\"请选择任务状态\">\n          <el-option value=\"0\" label=\"成功\"/>\n          <el-option value=\"1\" label=\"失败\"/>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"执行时间\">\n        <el-date-picker\n          size=\"small\"\n          v-model=\"dateRange\"\n          type=\"daterange\"\n          range-separator=\"至\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleFind\">查找</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          v-if=\"canDeleteBatch\"\n          :disabled=\"!ids.length\"\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          @click=\"handleDelete\"\n        >批量删除\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          @click=\"handleClean\"\n          v-if=\"canClean\"\n        >清空\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"warning\"\n          plain\n          icon=\"el-icon-back\"\n          size=\"mini\"\n          @click=\"handleClose\"\n        >返回</el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"fetchList\"></right-toolbar>\n    </el-row>\n\n    <!--表格-->\n    <el-table :default-sort = \"{prop: 'createTime', order: 'descending'}\" style=\"width: 100%\" :data=\"jobLogList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\n      <el-table-column label=\"日志编号\" width=\"80\" align=\"center\" prop=\"id\">\n        <template slot-scope=\"scope\">\n          {{scope.$index +1}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"任务名称\" align=\"center\" prop=\"jobName\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"任务组名\" align=\"center\" prop=\"jobGroup\" :show-overflow-tooltip=\"true\">\n        <template slot-scope=\"scope\">\n          <el-tag v-for=\"item in jobDictList\" :type=\"item.style\" v-if=\"scope.row.jobGroup === item.value\">\n            {{item.label}}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"调用目标字符串\" align=\"center\" prop=\"invokeTarget\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"日志信息\" align=\"center\" prop=\"jobMessage\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"执行状态\" align=\"center\" prop=\"status\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.status === '0'\" type=\"success\">成功</el-tag>\n          <el-tag v-if=\"scope.row.status === '1'\" type=\"danger\">失败</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column sortable label=\"执行时间\" align=\"center\" prop=\"createTime\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span>{{ dataFormat(scope.row.startTime) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-view\"\n            @click=\"handleView(scope.row)\"\n\n          >详细\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!--分页区域-->\n    <div class=\"pagination-container\" style=\"float: right;margin-bottom: 1.25rem;margin-top: 1.25rem;\">\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                     :current-page=\"params.pageNo\" :page-size=\"params.pageSize\" :page-sizes=\"[10, 20, 30]\"\n                     layout=\"total, sizes,prev, pager, next,jumper\" :total=\"total\">\n      </el-pagination>\n    </div>\n\n    <!-- 调度日志详细 -->\n    <el-dialog title=\"调度日志详细\" :visible.sync=\"open\" width=\"700px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" label-width=\"100px\" size=\"mini\">\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"日志序号：\">{{ form.id }}</el-form-item>\n            <el-form-item label=\"任务名称：\">{{ form.jobName }}</el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"任务分组：\">{{ form.jobGroup }}</el-form-item>\n            <el-form-item label=\"执行时间：\">{{ dataFormat(form.startTime) }}</el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"调用方法：\">{{ form.invokeTarget }}</el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"日志信息：\">{{ form.jobMessage }}</el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"执行状态：\">\n              <div v-if=\"form.status === '0'\">成功</div>\n              <div v-else-if=\"form.status === '1'\">失败</div>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"异常信息：\" v-if=\"form.status === 1\">{{ form.exceptionInfo }}</el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"open = false\">关 闭</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {fetchList,deleteBatch,clean} from \"@/api/quartzLog\";\nimport {parseTime} from '@/utils'\nimport {getDataByDictType} from \"@/api/dictData\"\nimport {mapGetters} from \"vuex\";\nimport {hasAuth} from \"@/utils/auth\";\nexport default {\n  name: \"JobLog\",\n  data() {\n    return {\n      // 加载层信息\n      loading: [],\n      // 选中数组\n      ids: [],\n      jobDictList:[],\n      jobDictDefaultValue: null,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 调度日志表格数据\n      jobLogList: [],\n      // 是否显示弹出层\n      open: false,\n      // 日期范围\n      dateRange: [],\n      // 表单参数\n      form: {},\n      // 查询参数\n      params: {\n        pageNo: 1,\n        pageSize: 10,\n        startTime:null,\n        endTime:null,\n        jobId: null,\n        jobName: null,\n        jobGroup: null,\n        status: null\n      }\n    };\n  },\n  created() {\n    this.openLoading();\n    let jobId = this.$route.query.jobId;\n    if (jobId) {\n      this.params.jobId = jobId\n    }\n    this.getDictList()\n    this.fetchList();\n  },\n  computed:{\n    ...mapGetters([\n      'pres'\n    ]),\n    canDeleteBatch: function() {\n      return hasAuth(this.pres, '/system/jobLog/deleteBatch')\n    },\n    canClean: function() {\n      return hasAuth(this.pres, '/system/jobLog/clean')\n    },\n  },\n  methods: {\n    getDictList: function () {\n      let dictTypeList = ['sys_job_group']\n      getDataByDictType(dictTypeList).then(response => {\n        let dictMap = response.data;\n        this.jobDictList = dictMap.sys_job_group.list\n        this.jobDictDefaultValue = dictMap.sys_job_group.defaultValue\n      });\n    },\n    /** 查询调度日志列表 */\n    fetchList: function () {\n      fetchList(this.params).then(response => {\n          this.jobLogList = response.data.records\n          this.total = response.data.total;\n          this.loading.close();\n      }).catch(err =>{\n        console.log(err)\n      });\n    },\n    // 返回按钮\n    handleClose() {\n      this.$router.push({ path: '/quartz'})\n    },\n    /** 搜索按钮操作 */\n    handleFind: function () {\n      this.params.pageNo = 1;\n      if (this.dateRange.length){\n        this.params.startTime = this.dateRange[0]\n        this.params.endTime = this.dateRange[1]\n      }\n      this.fetchList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.dateRange = []\n      this.params .startTime = null\n      this.params .endTime = null\n      this.params .jobName = null\n      this.params .jobGroup = null\n      this.params .status = null\n      this.fetchList();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.id);\n    },\n    /** 详细按钮操作 */\n    handleView(row) {\n      this.open = true;\n      this.form = row;\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteBatch(this.ids).then(res => {\n          this.$message.success(\"OK\")\n          this.fetchList()\n        }).catch(err => {\n          console.error(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消删除'\n        })\n      })\n    },\n    /** 清空按钮操作 */\n    handleClean() {\n      this.$confirm('是否确认清空所有调度日志数据项?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        clean().then(res => {\n          this.$message.success(\"OK\")\n          this.fetchList()\n        }).catch(err => {\n          console.error(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消清空'\n        })\n      })\n    },\n    handleSizeChange: function (val) {\n      this.params.pageSize = val\n      this.fetchList()\n    },\n    handleCurrentChange: function (val) {\n      this.params.pageNo = val\n      this.fetchList()\n    },\n    // 打开加载层\n    openLoading() {\n      this.loading = this.$loading({\n        lock: true,\n        text: \"正在加载中~\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n    },\n    dataFormat: function(time){\n      return parseTime(time)\n    },\n  }\n};\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA,SAAAA,SAAA,IAAAA,UAAA,EAAAC,WAAA,EAAAC,KAAA;AACA,SAAAC,SAAA;AACA,SAAAC,iBAAA;AACA,SAAAC,UAAA;AACA,SAAAC,OAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,OAAA;MACA;MACAC,GAAA;MACAC,WAAA;MACAC,mBAAA;MACA;MACAC,UAAA;MACA;MACAC,KAAA;MACA;MACAC,UAAA;MACA;MACAC,IAAA;MACA;MACAC,SAAA;MACA;MACAC,IAAA;MACA;MACAC,MAAA;QACAC,MAAA;QACAC,QAAA;QACAC,SAAA;QACAC,OAAA;QACAC,KAAA;QACAC,OAAA;QACAC,QAAA;QACAC,MAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,WAAA;IACA,IAAAL,KAAA,QAAAM,MAAA,CAAAC,KAAA,CAAAP,KAAA;IACA,IAAAA,KAAA;MACA,KAAAL,MAAA,CAAAK,KAAA,GAAAA,KAAA;IACA;IACA,KAAAQ,WAAA;IACA,KAAAhC,SAAA;EACA;EACAiC,QAAA,EAAAC,aAAA,CAAAA,aAAA,KACA7B,UAAA,EACA,OACA;IACA8B,cAAA,WAAAA,eAAA;MACA,OAAA7B,OAAA,MAAA8B,IAAA;IACA;IACAC,QAAA,WAAAA,SAAA;MACA,OAAA/B,OAAA,MAAA8B,IAAA;IACA;EAAA,EACA;EACAE,OAAA;IACAN,WAAA,WAAAA,YAAA;MAAA,IAAAO,KAAA;MACA,IAAAC,YAAA;MACApC,iBAAA,CAAAoC,YAAA,EAAAC,IAAA,WAAAC,QAAA;QACA,IAAAC,OAAA,GAAAD,QAAA,CAAAlC,IAAA;QACA+B,KAAA,CAAA5B,WAAA,GAAAgC,OAAA,CAAAC,aAAA,CAAAC,IAAA;QACAN,KAAA,CAAA3B,mBAAA,GAAA+B,OAAA,CAAAC,aAAA,CAAAE,YAAA;MACA;IACA;IACA;IACA9C,SAAA,WAAAA,UAAA;MAAA,IAAA+C,MAAA;MACA/C,UAAA,MAAAmB,MAAA,EAAAsB,IAAA,WAAAC,QAAA;QACAK,MAAA,CAAAhC,UAAA,GAAA2B,QAAA,CAAAlC,IAAA,CAAAwC,OAAA;QACAD,MAAA,CAAAjC,KAAA,GAAA4B,QAAA,CAAAlC,IAAA,CAAAM,KAAA;QACAiC,MAAA,CAAAtC,OAAA,CAAAwC,KAAA;MACA,GAAAC,KAAA,WAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA;IACA;IACA;IACAG,WAAA,WAAAA,YAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA;IACA;IACA;IACAC,UAAA,WAAAA,WAAA;MACA,KAAAvC,MAAA,CAAAC,MAAA;MACA,SAAAH,SAAA,CAAA0C,MAAA;QACA,KAAAxC,MAAA,CAAAG,SAAA,QAAAL,SAAA;QACA,KAAAE,MAAA,CAAAI,OAAA,QAAAN,SAAA;MACA;MACA,KAAAjB,SAAA;IACA;IACA,aACA4D,UAAA,WAAAA,WAAA;MACA,KAAA3C,SAAA;MACA,KAAAE,MAAA,CAAAG,SAAA;MACA,KAAAH,MAAA,CAAAI,OAAA;MACA,KAAAJ,MAAA,CAAAM,OAAA;MACA,KAAAN,MAAA,CAAAO,QAAA;MACA,KAAAP,MAAA,CAAAQ,MAAA;MACA,KAAA3B,SAAA;IACA;IACA;IACA6D,qBAAA,WAAAA,sBAAAC,SAAA;MACA,KAAApD,GAAA,GAAAoD,SAAA,CAAAC,GAAA,WAAAC,IAAA;QAAA,OAAAA,IAAA,CAAAC,EAAA;MAAA;IACA;IACA,aACAC,UAAA,WAAAA,WAAAC,GAAA;MACA,KAAAnD,IAAA;MACA,KAAAE,IAAA,GAAAiD,GAAA;IACA;IACA,aACAC,YAAA,WAAAA,aAAAD,GAAA;MAAA,IAAAE,MAAA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAhC,IAAA;QACAxC,WAAA,CAAAoE,MAAA,CAAA3D,GAAA,EAAA+B,IAAA,WAAAiC,GAAA;UACAL,MAAA,CAAAM,QAAA,CAAAC,OAAA;UACAP,MAAA,CAAArE,SAAA;QACA,GAAAkD,KAAA,WAAAC,GAAA;UACAC,OAAA,CAAAyB,KAAA,CAAA1B,GAAA;QACA;MACA,GAAAD,KAAA;QACAmB,MAAA,CAAAM,QAAA;UACAF,IAAA;UACAK,OAAA;QACA;MACA;IACA;IACA,aACAC,WAAA,WAAAA,YAAA;MAAA,IAAAC,MAAA;MACA,KAAAV,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAhC,IAAA;QACAvC,KAAA,GAAAuC,IAAA,WAAAiC,GAAA;UACAM,MAAA,CAAAL,QAAA,CAAAC,OAAA;UACAI,MAAA,CAAAhF,SAAA;QACA,GAAAkD,KAAA,WAAAC,GAAA;UACAC,OAAA,CAAAyB,KAAA,CAAA1B,GAAA;QACA;MACA,GAAAD,KAAA;QACA8B,MAAA,CAAAL,QAAA;UACAF,IAAA;UACAK,OAAA;QACA;MACA;IACA;IACAG,gBAAA,WAAAA,iBAAAC,GAAA;MACA,KAAA/D,MAAA,CAAAE,QAAA,GAAA6D,GAAA;MACA,KAAAlF,SAAA;IACA;IACAmF,mBAAA,WAAAA,oBAAAD,GAAA;MACA,KAAA/D,MAAA,CAAAC,MAAA,GAAA8D,GAAA;MACA,KAAAlF,SAAA;IACA;IACA;IACA6B,WAAA,WAAAA,YAAA;MACA,KAAApB,OAAA,QAAA2E,QAAA;QACAC,IAAA;QACAC,IAAA;QACAC,OAAA;QACAC,UAAA;MACA;IACA;IACAC,UAAA,WAAAA,WAAAC,IAAA;MACA,OAAAvF,SAAA,CAAAuF,IAAA;IACA;EACA;AACA"}]}
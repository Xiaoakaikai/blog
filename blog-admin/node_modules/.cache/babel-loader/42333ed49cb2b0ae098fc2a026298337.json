{"remainingRequest":"E:\\projects\\blog\\blog-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\projects\\blog\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\projects\\blog\\blog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\projects\\blog\\blog-admin\\src\\views\\listener\\quartz\\log.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\projects\\blog\\blog-admin\\src\\views\\listener\\quartz\\log.vue","mtime":1675760965000},{"path":"E:\\projects\\blog\\blog-admin\\babel.config.js","mtime":1675760965000},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680778862035},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1680778862378},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680778862035},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1680778857385}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovcHJvamVjdHMvYmxvZy9ibG9nLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZldGNoTGlzdCBhcyBfZmV0Y2hMaXN0LCBkZWxldGVCYXRjaCwgY2xlYW4gfSBmcm9tICJAL2FwaS9xdWFydHpMb2ciOwppbXBvcnQgeyBwYXJzZVRpbWUgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IHsgZ2V0RGF0YUJ5RGljdFR5cGUgfSBmcm9tICJAL2FwaS9kaWN0RGF0YSI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgaGFzQXV0aCB9IGZyb20gIkAvdXRpbHMvYXV0aCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSm9iTG9nIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5Yqg6L295bGC5L+h5oGvCiAgICAgIGxvYWRpbmc6IFtdLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgam9iRGljdExpc3Q6IFtdLAogICAgICBqb2JEaWN0RGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDosIPluqbml6Xlv5fooajmoLzmlbDmja4KICAgICAgam9iTG9nTGlzdDogW10sCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5pel5pyf6IyD5Zu0CiAgICAgIGRhdGVSYW5nZTogW10sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHBhcmFtczogewogICAgICAgIHBhZ2VObzogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgc3RhcnRUaW1lOiBudWxsLAogICAgICAgIGVuZFRpbWU6IG51bGwsCiAgICAgICAgam9iSWQ6IG51bGwsCiAgICAgICAgam9iTmFtZTogbnVsbCwKICAgICAgICBqb2JHcm91cDogbnVsbCwKICAgICAgICBzdGF0dXM6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLm9wZW5Mb2FkaW5nKCk7CiAgICB2YXIgam9iSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5qb2JJZDsKICAgIGlmIChqb2JJZCkgewogICAgICB0aGlzLnBhcmFtcy5qb2JJZCA9IGpvYklkOwogICAgfQogICAgdGhpcy5nZXREaWN0TGlzdCgpOwogICAgdGhpcy5mZXRjaExpc3QoKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydwcmVzJ10pKSwge30sIHsKICAgIGNhbkRlbGV0ZUJhdGNoOiBmdW5jdGlvbiBjYW5EZWxldGVCYXRjaCgpIHsKICAgICAgcmV0dXJuIGhhc0F1dGgodGhpcy5wcmVzLCAnL3N5c3RlbS9qb2JMb2cvZGVsZXRlQmF0Y2gnKTsKICAgIH0sCiAgICBjYW5DbGVhbjogZnVuY3Rpb24gY2FuQ2xlYW4oKSB7CiAgICAgIHJldHVybiBoYXNBdXRoKHRoaXMucHJlcywgJy9zeXN0ZW0vam9iTG9nL2NsZWFuJyk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgZ2V0RGljdExpc3Q6IGZ1bmN0aW9uIGdldERpY3RMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgZGljdFR5cGVMaXN0ID0gWydzeXNfam9iX2dyb3VwJ107CiAgICAgIGdldERhdGFCeURpY3RUeXBlKGRpY3RUeXBlTGlzdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGljdE1hcCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMuam9iRGljdExpc3QgPSBkaWN0TWFwLnN5c19qb2JfZ3JvdXAubGlzdDsKICAgICAgICBfdGhpcy5qb2JEaWN0RGVmYXVsdFZhbHVlID0gZGljdE1hcC5zeXNfam9iX2dyb3VwLmRlZmF1bHRWYWx1ZTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOafpeivouiwg+W6puaXpeW/l+WIl+ihqCAqLwogICAgZmV0Y2hMaXN0OiBmdW5jdGlvbiBmZXRjaExpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBfZmV0Y2hMaXN0KHRoaXMucGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5qb2JMb2dMaXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzMi50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcuY2xvc2UoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOi/lOWbnuaMiemSrgogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9xdWFydHonCiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUZpbmQ6IGZ1bmN0aW9uIGhhbmRsZUZpbmQoKSB7CiAgICAgIHRoaXMucGFyYW1zLnBhZ2VObyA9IDE7CiAgICAgIGlmICh0aGlzLmRhdGVSYW5nZS5sZW5ndGgpIHsKICAgICAgICB0aGlzLnBhcmFtcy5zdGFydFRpbWUgPSB0aGlzLmRhdGVSYW5nZVswXTsKICAgICAgICB0aGlzLnBhcmFtcy5lbmRUaW1lID0gdGhpcy5kYXRlUmFuZ2VbMV07CiAgICAgIH0KICAgICAgdGhpcy5mZXRjaExpc3QoKTsKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5kYXRlUmFuZ2UgPSBbXTsKICAgICAgdGhpcy5wYXJhbXMuc3RhcnRUaW1lID0gbnVsbDsKICAgICAgdGhpcy5wYXJhbXMuZW5kVGltZSA9IG51bGw7CiAgICAgIHRoaXMucGFyYW1zLmpvYk5hbWUgPSBudWxsOwogICAgICB0aGlzLnBhcmFtcy5qb2JHcm91cCA9IG51bGw7CiAgICAgIHRoaXMucGFyYW1zLnN0YXR1cyA9IG51bGw7CiAgICAgIHRoaXMuZmV0Y2hMaXN0KCk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDor6bnu4bmjInpkq7mk43kvZwgKi9oYW5kbGVWaWV3OiBmdW5jdGlvbiBoYW5kbGVWaWV3KHJvdykgewogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLmZvcm0gPSByb3c7CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqL2hhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGRlbGV0ZUJhdGNoKF90aGlzMy5pZHMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoIk9LIik7CiAgICAgICAgICBfdGhpczMuZmV0Y2hMaXN0KCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmuIXnqbrmjInpkq7mk43kvZwgKi9oYW5kbGVDbGVhbjogZnVuY3Rpb24gaGFuZGxlQ2xlYW4oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTmuIXnqbrmiYDmnInosIPluqbml6Xlv5fmlbDmja7pobk/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNsZWFuKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczQuJG1lc3NhZ2Uuc3VjY2VzcygiT0siKTsKICAgICAgICAgIF90aGlzNC5mZXRjaExpc3QoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOa4heepuicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYXJhbXMucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMuZmV0Y2hMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYXJhbXMucGFnZU5vID0gdmFsOwogICAgICB0aGlzLmZldGNoTGlzdCgpOwogICAgfSwKICAgIC8vIOaJk+W8gOWKoOi9veWxggogICAgb3BlbkxvYWRpbmc6IGZ1bmN0aW9uIG9wZW5Mb2FkaW5nKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0aGlzLiRsb2FkaW5nKHsKICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgIHRleHQ6ICLmraPlnKjliqDovb3kuK1+IiwKICAgICAgICBzcGlubmVyOiAiZWwtaWNvbi1sb2FkaW5nIiwKICAgICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIgogICAgICB9KTsKICAgIH0sCiAgICBkYXRhRm9ybWF0OiBmdW5jdGlvbiBkYXRhRm9ybWF0KHRpbWUpIHsKICAgICAgcmV0dXJuIHBhcnNlVGltZSh0aW1lKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["fetchList","deleteBatch","clean","parseTime","getDataByDictType","mapGetters","hasAuth","name","data","loading","ids","jobDictList","jobDictDefaultValue","showSearch","total","jobLogList","open","dateRange","form","params","pageNo","pageSize","startTime","endTime","jobId","jobName","jobGroup","status","created","openLoading","$route","query","getDictList","computed","_objectSpread","canDeleteBatch","pres","canClean","methods","_this","dictTypeList","then","response","dictMap","sys_job_group","list","defaultValue","_this2","records","close","catch","err","console","log","handleClose","$router","push","path","handleFind","length","resetQuery","handleSelectionChange","selection","map","item","id","handleView","row","handleDelete","_this3","$confirm","confirmButtonText","cancelButtonText","type","res","$message","success","error","message","handleClean","_this4","handleSizeChange","val","handleCurrentChange","$loading","lock","text","spinner","background","dataFormat","time"],"sources":["src/views/listener/quartz/log.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form v-show=\"showSearch\" :inline=\"true\" ref=\"form\" :model=\"params\" label-width=\"68px\">\n      <el-form-item label=\"任务名称\">\n        <el-input style=\"width: 200px\" size=\"small\" v-model=\"params.jobName\" placeholder=\"请输入任务名称\" />\n      </el-form-item>\n      <el-form-item label=\"任务组名\">\n        <el-select size=\"small\" @change='handleFind' clearable style=\"margin-left: 5px\" v-model=\"params.jobGroup\" placeholder=\"请选择组名\">\n          <el-option\n            v-for=\"item in jobDictList\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          >\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"执行状态\">\n        <el-select size=\"small\" @change='handleFind' clearable style=\"margin-left: 5px\" v-model=\"params.status\" placeholder=\"请选择任务状态\">\n          <el-option value=\"0\" label=\"成功\"/>\n          <el-option value=\"1\" label=\"失败\"/>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"执行时间\">\n        <el-date-picker\n          size=\"small\"\n          v-model=\"dateRange\"\n          type=\"daterange\"\n          range-separator=\"至\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleFind\">查找</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          v-if=\"canDeleteBatch\"\n          :disabled=\"!ids.length\"\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          @click=\"handleDelete\"\n        >批量删除\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          plain\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          @click=\"handleClean\"\n          v-if=\"canClean\"\n        >清空\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"warning\"\n          plain\n          icon=\"el-icon-back\"\n          size=\"mini\"\n          @click=\"handleClose\"\n        >返回</el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"fetchList\"></right-toolbar>\n    </el-row>\n\n    <!--表格-->\n    <el-table :default-sort = \"{prop: 'createTime', order: 'descending'}\" style=\"width: 100%\" :data=\"jobLogList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\n      <el-table-column label=\"日志编号\" width=\"80\" align=\"center\" prop=\"id\">\n        <template slot-scope=\"scope\">\n          {{scope.$index +1}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"任务名称\" align=\"center\" prop=\"jobName\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"任务组名\" align=\"center\" prop=\"jobGroup\" :show-overflow-tooltip=\"true\">\n        <template slot-scope=\"scope\">\n          <el-tag v-for=\"item in jobDictList\" :type=\"item.style\" v-if=\"scope.row.jobGroup === item.value\">\n            {{item.label}}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"调用目标字符串\" align=\"center\" prop=\"invokeTarget\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"日志信息\" align=\"center\" prop=\"jobMessage\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"执行状态\" align=\"center\" prop=\"status\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.status === '0'\" type=\"success\">成功</el-tag>\n          <el-tag v-if=\"scope.row.status === '1'\" type=\"danger\">失败</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column sortable label=\"执行时间\" align=\"center\" prop=\"createTime\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span>{{ dataFormat(scope.row.startTime) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            icon=\"el-icon-view\"\n            @click=\"handleView(scope.row)\"\n\n          >详细\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!--分页区域-->\n    <div class=\"pagination-container\" style=\"float: right;margin-bottom: 1.25rem;margin-top: 1.25rem;\">\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                     :current-page=\"params.pageNo\" :page-size=\"params.pageSize\" :page-sizes=\"[10, 20, 30]\"\n                     layout=\"total, sizes,prev, pager, next,jumper\" :total=\"total\">\n      </el-pagination>\n    </div>\n\n    <!-- 调度日志详细 -->\n    <el-dialog title=\"调度日志详细\" :visible.sync=\"open\" width=\"700px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" label-width=\"100px\" size=\"mini\">\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"日志序号：\">{{ form.id }}</el-form-item>\n            <el-form-item label=\"任务名称：\">{{ form.jobName }}</el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"任务分组：\">{{ form.jobGroup }}</el-form-item>\n            <el-form-item label=\"执行时间：\">{{ dataFormat(form.startTime) }}</el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"调用方法：\">{{ form.invokeTarget }}</el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"日志信息：\">{{ form.jobMessage }}</el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"执行状态：\">\n              <div v-if=\"form.status === '0'\">成功</div>\n              <div v-else-if=\"form.status === '1'\">失败</div>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"异常信息：\" v-if=\"form.status === 1\">{{ form.exceptionInfo }}</el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"open = false\">关 闭</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {fetchList,deleteBatch,clean} from \"@/api/quartzLog\";\nimport {parseTime} from '@/utils'\nimport {getDataByDictType} from \"@/api/dictData\"\nimport {mapGetters} from \"vuex\";\nimport {hasAuth} from \"@/utils/auth\";\nexport default {\n  name: \"JobLog\",\n  data() {\n    return {\n      // 加载层信息\n      loading: [],\n      // 选中数组\n      ids: [],\n      jobDictList:[],\n      jobDictDefaultValue: null,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 调度日志表格数据\n      jobLogList: [],\n      // 是否显示弹出层\n      open: false,\n      // 日期范围\n      dateRange: [],\n      // 表单参数\n      form: {},\n      // 查询参数\n      params: {\n        pageNo: 1,\n        pageSize: 10,\n        startTime:null,\n        endTime:null,\n        jobId: null,\n        jobName: null,\n        jobGroup: null,\n        status: null\n      }\n    };\n  },\n  created() {\n    this.openLoading();\n    let jobId = this.$route.query.jobId;\n    if (jobId) {\n      this.params.jobId = jobId\n    }\n    this.getDictList()\n    this.fetchList();\n  },\n  computed:{\n    ...mapGetters([\n      'pres'\n    ]),\n    canDeleteBatch: function() {\n      return hasAuth(this.pres, '/system/jobLog/deleteBatch')\n    },\n    canClean: function() {\n      return hasAuth(this.pres, '/system/jobLog/clean')\n    },\n  },\n  methods: {\n    getDictList: function () {\n      let dictTypeList = ['sys_job_group']\n      getDataByDictType(dictTypeList).then(response => {\n        let dictMap = response.data;\n        this.jobDictList = dictMap.sys_job_group.list\n        this.jobDictDefaultValue = dictMap.sys_job_group.defaultValue\n      });\n    },\n    /** 查询调度日志列表 */\n    fetchList: function () {\n      fetchList(this.params).then(response => {\n          this.jobLogList = response.data.records\n          this.total = response.data.total;\n          this.loading.close();\n      }).catch(err =>{\n        console.log(err)\n      });\n    },\n    // 返回按钮\n    handleClose() {\n      this.$router.push({ path: '/quartz'})\n    },\n    /** 搜索按钮操作 */\n    handleFind: function () {\n      this.params.pageNo = 1;\n      if (this.dateRange.length){\n        this.params.startTime = this.dateRange[0]\n        this.params.endTime = this.dateRange[1]\n      }\n      this.fetchList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.dateRange = []\n      this.params .startTime = null\n      this.params .endTime = null\n      this.params .jobName = null\n      this.params .jobGroup = null\n      this.params .status = null\n      this.fetchList();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.id);\n    },\n    /** 详细按钮操作 */\n    handleView(row) {\n      this.open = true;\n      this.form = row;\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteBatch(this.ids).then(res => {\n          this.$message.success(\"OK\")\n          this.fetchList()\n        }).catch(err => {\n          console.error(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消删除'\n        })\n      })\n    },\n    /** 清空按钮操作 */\n    handleClean() {\n      this.$confirm('是否确认清空所有调度日志数据项?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        clean().then(res => {\n          this.$message.success(\"OK\")\n          this.fetchList()\n        }).catch(err => {\n          console.error(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消清空'\n        })\n      })\n    },\n    handleSizeChange: function (val) {\n      this.params.pageSize = val\n      this.fetchList()\n    },\n    handleCurrentChange: function (val) {\n      this.params.pageNo = val\n      this.fetchList()\n    },\n    // 打开加载层\n    openLoading() {\n      this.loading = this.$loading({\n        lock: true,\n        text: \"正在加载中~\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n    },\n    dataFormat: function(time){\n      return parseTime(time)\n    },\n  }\n};\n</script>\n"],"mappings":"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"}]}
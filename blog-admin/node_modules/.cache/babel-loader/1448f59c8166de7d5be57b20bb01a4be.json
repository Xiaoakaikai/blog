{"remainingRequest":"E:\\projects\\blog\\blog-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\projects\\blog\\blog-admin\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\projects\\blog\\blog-admin\\src\\utils\\menu.js","dependencies":[{"path":"E:\\projects\\blog\\blog-admin\\src\\utils\\menu.js","mtime":1675760965000},{"path":"E:\\projects\\blog\\blog-admin\\babel.config.js","mtime":1675760965000},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680778862035},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1680778862378},{"path":"E:\\projects\\blog\\blog-admin\\node_modules\\eslint-loader\\index.js","mtime":1680778858812}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAiQC91dGlscy9hdXRoIjsKaW1wb3J0IExheW91dCBmcm9tICdAL2xheW91dCc7CmV4cG9ydCBmdW5jdGlvbiBhcnJheVNvcnQocHJvcGVydHkpIHsKICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHsKICAgIHZhciB2YWx1ZTEgPSBhW3Byb3BlcnR5XTsKICAgIHZhciB2YWx1ZTIgPSBiW3Byb3BlcnR5XTsKICAgIHJldHVybiB2YWx1ZTEgLSB2YWx1ZTI7CiAgfTsKfQpleHBvcnQgZnVuY3Rpb24gZmlsdGVyQXN5bmNSb3V0ZXIoZGF0YSkgewogIGRhdGEuc29ydChhcnJheVNvcnQoJ3NvcnRObycpKTsKICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBpdGVtLmNoaWxkcmVuLnNvcnQoYXJyYXlTb3J0KCdzb3J0Tm8nKSk7CiAgfSk7CiAgdmFyIG1lbnVzID0gW107CiAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbS50eXBlICE9PSAnYnRuJykgewogICAgICB2YXIgaGlkZGVuID0gZmFsc2U7CiAgICAgIGlmIChpdGVtLmhpZGRlbiA9PT0gMCkgewogICAgICAgIGhpZGRlbiA9IHRydWU7CiAgICAgIH0KICAgICAgdmFyIG1lbnUgPSB7CiAgICAgICAgcGF0aDogaXRlbS51cmwsCiAgICAgICAgY2hpbGRyZW46IFtdLAogICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAvLyBpc1Nob3c6IGhpZGRlbiwKICAgICAgICBoaWRkZW46IGhpZGRlbiwKICAgICAgICBzb3J0Tm86IGl0ZW0uc29ydE5vLAogICAgICAgIG1ldGE6IHsKICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLAogICAgICAgICAga2VlcEFsaXZlOiB0cnVlCiAgICAgICAgfQogICAgICB9OwogICAgICBpZiAoaXRlbS51cmwuaW5kZXhPZigidG9rZW4iKSA+PSAwKSB7CiAgICAgICAgbWVudS5wYXRoID0gaXRlbS51cmwgKyBnZXRUb2tlbigpOwogICAgICB9CiAgICAgIGlmIChpdGVtLmNvbXBvbmVudCAhPSBudWxsICYmIGl0ZW0uY29tcG9uZW50ICE9PSAnJykgewogICAgICAgIG1lbnUuY29tcG9uZW50ID0gaXRlbS5jb21wb25lbnQgPT09ICdMYXlvdXQnID8gTGF5b3V0IDogZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cyIuY29uY2F0KGl0ZW0uY29tcG9uZW50KV0sIHJlc29sdmUpOwogICAgICAgIH07CiAgICAgIH0KICAgICAgaWYgKGl0ZW0ucmVkaXJlY3QgIT0gbnVsbCAmJiBpdGVtLnJlZGlyZWN0ICE9PSAnJykgewogICAgICAgIG1lbnUucmVkaXJlY3QgPSBpdGVtLnJlZGlyZWN0OwogICAgICB9CiAgICAgIGlmIChpdGVtLmljb24gIT0gbnVsbCAmJiBpdGVtLmljb24gIT09ICcnKSB7CiAgICAgICAgbWVudS5tZXRhLmljb24gPSBpdGVtLmljb247CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWVudS5tZXRhLmljb24gPSAndGFzayc7CiAgICAgIH0KICAgICAgaWYgKGl0ZW0uY29tcG9uZW50ID09PSAnTGF5b3V0JykgewogICAgICAgIGdlbmVyYU1lbnUobWVudS5jaGlsZHJlbiwgaXRlbS5jaGlsZHJlbik7CiAgICAgIH0KICAgICAgbWVudXMucHVzaChtZW51KTsKICAgIH0KICB9KTsKICBtZW51cy5wdXNoKHsKICAgIHBhdGg6ICcqJywKICAgIHJlZGlyZWN0OiAnLzQwNCcsCiAgICBoaWRkZW46IHRydWUKICB9KTsKICByZXR1cm4gbWVudXM7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYU1lbnUocm91dGVzLCBkYXRhKSB7CiAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbS50eXBlICE9PSAnYnRuJykgewogICAgICB2YXIgaGlkZGVuID0gZmFsc2U7CiAgICAgIGlmIChpdGVtLmhpZGRlbiA9PT0gMCkgewogICAgICAgIGhpZGRlbiA9IHRydWU7CiAgICAgIH0KICAgICAgdmFyIG1lbnUgPSB7CiAgICAgICAgcGF0aDogaXRlbS51cmwsCiAgICAgICAgY2hpbGRyZW46IFtdLAogICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAvLyBpc1Nob3c6IGhpZGRlbiwKICAgICAgICBoaWRkZW46IGhpZGRlbiwKICAgICAgICBzb3J0Tm86IGl0ZW0uc29ydE5vLAogICAgICAgIG1ldGE6IHsKICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLAogICAgICAgICAga2VlcEFsaXZlOiB0cnVlCiAgICAgICAgfQogICAgICB9OwogICAgICBpZiAoaXRlbS51cmwuaW5kZXhPZigidG9rZW4iKSA+PSAwKSB7CiAgICAgICAgbWVudS5wYXRoID0gaXRlbS51cmwgKyBnZXRUb2tlbigpOwogICAgICB9CiAgICAgIGlmIChpdGVtLmNvbXBvbmVudCAhPSBudWxsICYmIGl0ZW0uY29tcG9uZW50ICE9PSAnJykgewogICAgICAgIG1lbnUuY29tcG9uZW50ID0gaXRlbS5jb21wb25lbnQgPT09ICdMYXlvdXQnID8gTGF5b3V0IDogZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cyIuY29uY2F0KGl0ZW0uY29tcG9uZW50KV0sIHJlc29sdmUpOwogICAgICAgIH07CiAgICAgIH0KICAgICAgaWYgKGl0ZW0ucmVkaXJlY3QgIT0gbnVsbCAmJiBpdGVtLnJlZGlyZWN0ICE9PSAnJykgewogICAgICAgIG1lbnUucmVkaXJlY3QgPSBpdGVtLnJlZGlyZWN0OwogICAgICB9CiAgICAgIGlmIChpdGVtLmljb24gIT0gbnVsbCAmJiBpdGVtLmljb24gIT09ICcnKSB7CiAgICAgICAgbWVudS5tZXRhLmljb24gPSBpdGVtLmljb247CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWVudS5tZXRhLmljb24gPSAndGFzayc7CiAgICAgIH0KICAgICAgaWYgKGl0ZW0uY29tcG9uZW50ID09PSAnTGF5b3V0JykgewogICAgICAgIGdlbmVyYU1lbnUobWVudS5jaGlsZHJlbiwgaXRlbS5jaGlsZHJlbik7CiAgICAgIH0KICAgICAgcm91dGVzLnB1c2gobWVudSk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHJvdXRlczsKfQ=="},{"version":3,"names":["getToken","Layout","arraySort","property","a","b","value1","value2","filterAsyncRouter","data","sort","forEach","item","children","menus","type","hidden","menu","path","url","name","sortNo","meta","title","keepAlive","indexOf","component","resolve","require","concat","redirect","icon","generaMenu","push","routes"],"sources":["E:/projects/blog/blog-admin/src/utils/menu.js"],"sourcesContent":["import {getToken} from \"@/utils/auth\";\nimport Layout from '@/layout'\n\nexport function arraySort(property) {\n  return function (a,b) {\n    let value1 = a[property]\n    let value2 = b[property]\n    return value1 - value2\n  }\n}\nexport function filterAsyncRouter(data) {\n  data.sort(arraySort('sortNo'))\n  data.forEach(item => item.children.sort(arraySort('sortNo')))\n  let menus = [];\n  data.forEach(item => {\n    if (item.type !== 'btn'){\n      let hidden = false\n      if (item.hidden === 0){hidden=true}\n      const menu = {\n        path: item.url,\n        children: [],\n        name: item.name,\n        // isShow: hidden,\n        hidden: hidden,\n        sortNo:item.sortNo,\n        meta: { title: item.title, keepAlive: true }\n      }\n      if(item.url.indexOf(\"token\") >= 0){\n        menu.path = item.url + getToken()\n      }\n      if(item.component!=null&&item.component!==''){\n        menu.component = item.component === 'Layout' ? Layout : resolve => require([`@/views${item.component}`], resolve)\n      }\n      if(item.redirect!=null&&item.redirect!==''){\n        menu.redirect = item.redirect\n      }\n      if(item.icon!=null&&item.icon!==''){\n        menu.meta.icon = item.icon\n      }else{\n        menu.meta.icon = 'task'\n      }\n      if (item.component === 'Layout') {\n        generaMenu(menu.children, item.children)\n      }\n      menus.push(menu);\n    }\n  })\n  menus.push({ path: '*', redirect: '/404', hidden: true })\n  return menus\n}\nexport function generaMenu(routes,data) {\n  data.forEach(item => {\n    if (item.type !== 'btn'){\n      let hidden = false\n      if (item.hidden === 0){hidden=true}\n      const menu = {\n        path: item.url,\n        children: [],\n        name: item.name,\n        // isShow: hidden,\n        hidden: hidden,\n        sortNo:item.sortNo,\n        meta: { title: item.title, keepAlive: true }\n      }\n      if(item.url.indexOf(\"token\") >= 0){\n        menu.path = item.url + getToken()\n      }\n      if(item.component!=null&&item.component!==''){\n        menu.component = item.component === 'Layout' ? Layout : resolve => require([`@/views${item.component}`], resolve)\n      }\n      if(item.redirect!=null&&item.redirect!==''){\n        menu.redirect = item.redirect\n      }\n      if(item.icon!=null&&item.icon!==''){\n        menu.meta.icon = item.icon\n      }else{\n        menu.meta.icon = 'task'\n      }\n      if (item.component === 'Layout') {\n        generaMenu(menu.children, item.children)\n      }\n      routes.push(menu);\n    }\n  })\n  return routes\n}\n"],"mappings":"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"}]}
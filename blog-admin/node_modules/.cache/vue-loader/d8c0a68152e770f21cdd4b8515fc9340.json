{"remainingRequest":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\javaResource\\shiyi-blog-master\\blog-admin\\src\\views\\articles\\category.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\src\\views\\articles\\category.vue","mtime":1675760965000},{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680778862035},{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1680778862378},{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680778862035},{"path":"D:\\javaResource\\shiyi-blog-master\\blog-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1680778857385}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7ZmV0Y2hDYXRlZ29yeSwgYWRkLCBpbmZvLCB1cGRhdGUsIGRlbGV0ZUJhdGNoLCB0b3AscmVtb3ZlfSBmcm9tICdAL2FwaS9jYXRlZ29yeScKaW1wb3J0IHtwYXJzZVRpbWV9IGZyb20gJ0AvdXRpbHMnCmltcG9ydCB7aGFzQXV0aH0gZnJvbSAnQC91dGlscy9hdXRoJwppbXBvcnQge21hcEdldHRlcnN9IGZyb20gJ3Z1ZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOWKoOi9veWxguS/oeaBrwogICAgICBsb2FkaW5nOiBbXSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgZm9ybUxhYmVsV2lkdGg6ICcxMjBweCcsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgaXNFZGl0Rm9ybTogMCwKICAgICAgdG90YWw6IG51bGwsCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwKICAgICAgdGl0bGU6IG51bGwsCiAgICAgIGNhdGVnb3J5OiB7fSwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0sCiAgICAgIHJ1bGVzOgogICAgICAgIHsKICAgICAgICAgICduYW1lJzogWwogICAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflv4XloavlrZfmrrUnLCB0cmlnZ2VyOiAnY2hhbmdlJ30sCiAgICAgICAgICAgIHttaW46IDEsIG1heDogMjAsIG1lc3NhZ2U6ICfplb/luqblnKgx5YiwMjDkuKrlrZfnrKYnfSwKICAgICAgICAgIF0sCiAgICAgICAgICAnc29ydCc6IFsKICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5b+F5aGr5a2X5q61JywgdHJpZ2dlcjogJ2NoYW5nZSd9LAogICAgICAgICAgICB7cGF0dGVybjogL15bMC05XVxkKiQvLCBtZXNzYWdlOiAn5o6S5bqP5a2X5q615Y+q6IO95Li66Ieq54S25pWwJ30sCiAgICAgICAgICBdCiAgICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMub3BlbkxvYWRpbmcoKTsKICAgIHRoaXMuZmV0Y2hDYXRlZ29yeSgpCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICdwcmVzJwogICAgXSksCiAgICBjYW5BZGQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGhhc0F1dGgodGhpcy5wcmVzLCAnL3N5c3RlbS9jYXRlZ29yeS9hZGQnKQogICAgfSwKICAgIGNhbkRlbDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gaGFzQXV0aCh0aGlzLnByZXMsICcvc3lzdGVtL2NhdGVnb3J5L2RlbGV0ZScpCiAgICB9LAogICAgY2FuRGVsZXRlQmF0Y2g6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGhhc0F1dGgodGhpcy5wcmVzLCAnL3N5c3RlbS9jYXRlZ29yeS9kZWxldGVCYXRjaCcpCiAgICB9LAogICAgY2FuVXBkYXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBoYXNBdXRoKHRoaXMucHJlcywgJy9zeXN0ZW0vY2F0ZWdvcnkvdXBkYXRlJykKICAgIH0sCiAgICBjYW5Ub3A6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGhhc0F1dGgodGhpcy5wcmVzLCAnL3N5c3RlbS9jYXRlZ29yeS90b3AnKQogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoQ2F0ZWdvcnk6IGZ1bmN0aW9uICgpIHsKICAgICAgZmV0Y2hDYXRlZ29yeSh0aGlzLnBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3JkcwogICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbAogICAgICAgIHRoaXMubG9hZGluZy5jbG9zZSgpOwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgfSkKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy4kcmVmc1snZGF0YUZvcm0nXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICh0aGlzLmlzRWRpdEZvcm0pIHsKICAgICAgICAgICAgdXBkYXRlKHRoaXMuY2F0ZWdvcnkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuS/ruaUueWIhuexu+aIkOWKnyIpCiAgICAgICAgICAgICAgdGhpcy5mZXRjaENhdGVnb3J5KCkKICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nRm9ybSgpCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWRkKHRoaXMuY2F0ZWdvcnkpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIua3u+WKoOWIhuexu+aIkOWKnyIpCiAgICAgICAgICAgICAgdGhpcy5mZXRjaENhdGVnb3J5KCkKICAgICAgICAgICAgICB0aGlzLmNsb3NlRGlhbG9nRm9ybSgpCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJubyBzdWJtaXQiKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIChzY29wZSkgewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XorrDlvZUsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgcmVtb3ZlKHNjb3BlLnJvdy5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTliIbnsbvmiJDlip8iKQogICAgICAgICAgdGhpcy5mZXRjaENhdGVnb3J5KCkKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojliKDpmaQnCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+mAieaLqeimgeWIoOmZpOeahOWIhuexuyIpCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGRlbGV0ZUJhdGNoKHRoaXMubXVsdGlwbGVTZWxlY3Rpb24pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5om56YeP5Yig6Zmk5YiG57G75oiQ5YqfIikKICAgICAgICAgIHRoaXMuZmV0Y2hDYXRlZ29yeSgpCiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlQ3JlYXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuaXNFZGl0Rm9ybSA9IDAKICAgICAgdGhpcy5jYXRlZ29yeSA9IHRoaXMuZ2V0Rm9ybU9iamVjdCgpCiAgICAgIHRoaXMudGl0bGUgPSAi5paw5aKe5YiG57G7IgogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmc1snZGF0YUZvcm0nXS5jbGVhclZhbGlkYXRlKCkKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiAoc2NvcGUpIHsKICAgICAgaW5mbyhzY29wZS5yb3cuaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmNhdGVnb3J5ID0gcmVzLmRhdGEKICAgICAgICB0aGlzLmlzRWRpdEZvcm0gPSAxCiAgICAgICAgdGhpcy50aXRsZSA9ICLkv67mlLnliIbnsbsiCiAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLmNsZWFyVmFsaWRhdGUoKQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgZ2V0Rm9ybU9iamVjdDogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHNvcnQ6ICcnCiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVUb3A6IGZ1bmN0aW9uIChzY29wZSkgewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbkvJrmioror6XliIbnsbvmlL7liLDpppbkvY0sIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdG9wKHNjb3BlLnJvdy5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLnva7pobbliIbnsbvmiJDlip8iKQogICAgICAgICAgdGhpcy5mZXRjaENhdGVnb3J5KCkKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojnva7pobYnCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICByZXNldFF1ZXJ5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucGFyYW1zLm5hbWUgPSBudWxsCiAgICAgIHRoaXMuZmV0Y2hDYXRlZ29yeSgpCiAgICB9LAogICAgaGFuZGxlRmluZDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnBhcmFtcy5wYWdlTm8gPSAxOwogICAgICB0aGlzLmZldGNoQ2F0ZWdvcnkgKCkKICAgIH0sCgogICAgY2xvc2VEaWFsb2dGb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMudGFnID0ge30KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gKHZhbCkgewogICAgICB0aGlzLnBhcmFtcy5wYWdlU2l6ZSA9IHZhbAogICAgICB0aGlzLmZldGNoQ2F0ZWdvcnkgKCkKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgIHRoaXMucGFyYW1zLnBhZ2VObyA9IHZhbAogICAgICB0aGlzLmZldGNoQ2F0ZWdvcnkgKCkKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbAogICAgfSwKICAgIC8vIOaJk+W8gOWKoOi9veWxggogICAgb3BlbkxvYWRpbmcoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgdGV4dDogIuato+WcqOWKoOi9veS4rX4iLAogICAgICAgIHNwaW5uZXI6ICJlbC1pY29uLWxvYWRpbmciLAogICAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiCiAgICAgIH0pOwogICAgfSwKICAgIGRhdGFGb3JtYXQ6IGZ1bmN0aW9uICh0aW1lKSB7CiAgICAgIHJldHVybiBwYXJzZVRpbWUodGltZSkKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"category.vue","sourceRoot":"src/views/articles","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!--查询or添加-->\n    <el-form v-show=\"showSearch\" :inline=\"true\" ref=\"form\" :model=\"params\" label-width=\"68px\">\n      <el-form-item label=\"分类名称\">\n        <el-input style=\"width: 200px\" size=\"small\" v-model=\"params.name\" placeholder=\"请输入分类名称\"/>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"small\" @click=\"handleFind\">查找</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"small\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button v-if=\"canAdd\" size=\"small\" class=\"filter-item\" @click=\"handleCreate\" type=\"primary\"\n                   icon=\"el-icon-plus\">添加\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button size=\"small\" :disabled=\"!multipleSelection.length\" v-if=\"canDeleteBatch\" class=\"filter-item\"\n                   @click=\"handleDelete\"\n                   type=\"danger\" icon=\"el-icon-delete\">批量删除\n        </el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"fetchCategory\"></right-toolbar>\n    </el-row>\n\n    <div style=\"margin-top: 5px\">\n      <el-table\n        border\n        :data=\"tableData\"\n        style=\"width: 100%\"\n        :default-sort=\"{prop: 'sort', order: 'descending'}\"\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column align=\"center\" type=\"selection\"/>\n        <el-table-column align=\"center\" label=\"序号\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.$index + 1 }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"name\" align=\"center\" label=\"分类名\" width=\"180\"/>\n        <el-table-column prop=\"articleCount\" align=\"center\" label=\"文章量\"/>\n        <el-table-column align=\"center\" prop=\"sort\" sortable label=\"排序\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"warning\">{{ scope.row.sort }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" prop=\"clickVolume\"  label=\"点击量\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"warning\">{{ scope.row.clickVolume }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column width=\"180\" align=\"center\" label=\"添加时间\">\n          <template slot-scope=\"scope\">\n            <span>{{ dataFormat(scope.row.createTime) }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column width=\"220\" align=\"center\" label=\"操作\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"scope\">\n            <el-button v-if=\"canTop\" type=\"warning\" size=\"mini\" @click=\"handleTop(scope)\">置顶</el-button>\n            <el-button v-if=\"canUpdate\" type=\"primary\" size=\"mini\" @click=\"handleEdit(scope)\">编辑</el-button>\n            <el-button v-if=\"canDel\" size=\"mini\" type=\"danger\" @click=\"remove(scope)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n    <!--分页区域-->\n    <div class=\"pagination-container\" style=\"float: right;margin-bottom: 1.25rem;margin-top: 1.25rem;\">\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                     :current-page=\"params.pageNo\" :page-size=\"params.pageSize\" :page-sizes=\"[10, 20, 30]\"\n                     layout=\"total, sizes,prev, pager, next,jumper\" :total=\"total\">\n      </el-pagination>\n    </div>\n\n    <!--添加修改区域-->\n    <el-dialog center :title=\"title\" :visible.sync=\"dialogFormVisible\">\n      <el-form :rules=\"rules\" ref=\"dataForm\" :model=\"category\" >\n        <el-form-item label=\"分类名\" prop=\"name\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"category.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"排序\" prop=\"sort\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"category.sort\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeDialogForm\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submit\">确认</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport {fetchCategory, add, info, update, deleteBatch, top,remove} from '@/api/category'\nimport {parseTime} from '@/utils'\nimport {hasAuth} from '@/utils/auth'\nimport {mapGetters} from 'vuex'\n\nexport default {\n  data() {\n    return {\n      // 加载层信息\n      loading: [],\n      tableData: [],\n      formLabelWidth: '120px',\n      dialogFormVisible: false,\n      showSearch: true,\n      isEditForm: 0,\n      total: null,\n      multipleSelection: [],\n      title: null,\n      category: {},\n      params: {\n        name: null,\n        pageNo: 1,\n        pageSize: 10\n      },\n      rules:\n        {\n          'name': [\n            {required: true, message: '必填字段', trigger: 'change'},\n            {min: 1, max: 20, message: '长度在1到20个字符'},\n          ],\n          'sort': [\n            {required: true, message: '必填字段', trigger: 'change'},\n            {pattern: /^[0-9]\\d*$/, message: '排序字段只能为自然数'},\n          ]\n        }\n    }\n  },\n  created() {\n    this.openLoading();\n    this.fetchCategory()\n  },\n  computed: {\n    ...mapGetters([\n      'pres'\n    ]),\n    canAdd: function () {\n      return hasAuth(this.pres, '/system/category/add')\n    },\n    canDel: function () {\n      return hasAuth(this.pres, '/system/category/delete')\n    },\n    canDeleteBatch: function () {\n      return hasAuth(this.pres, '/system/category/deleteBatch')\n    },\n    canUpdate: function () {\n      return hasAuth(this.pres, '/system/category/update')\n    },\n    canTop: function () {\n      return hasAuth(this.pres, '/system/category/top')\n    },\n  },\n  methods: {\n    fetchCategory: function () {\n      fetchCategory(this.params).then(res => {\n        this.tableData = res.data.records\n        this.total = res.data.total\n        this.loading.close();\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    submit: function () {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          if (this.isEditForm) {\n            update(this.category).then(res => {\n              this.$message.success(\"修改分类成功\")\n              this.fetchCategory()\n              this.closeDialogForm()\n            }).catch(err => {\n              console.log(err)\n            })\n          } else {\n            add(this.category).then(res => {\n              this.$message.success(\"添加分类成功\")\n              this.fetchCategory()\n              this.closeDialogForm()\n            }).catch(err => {\n              console.log(err)\n            })\n          }\n        } else {\n          console.error(\"no submit\")\n        }\n      })\n    },\n    remove: function (scope) {\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        remove(scope.row.id).then(res => {\n          this.$message.success(\"删除分类成功\")\n          this.fetchCategory()\n        }).catch(err => {\n          console.log(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消删除'\n        })\n      })\n    },\n    handleDelete: function () {\n      if (!this.multipleSelection.length) {\n        this.$message.error(\"请选择要删除的分类\")\n        return false\n      }\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteBatch(this.multipleSelection).then(res => {\n          this.$message.success(\"批量删除分类成功\")\n          this.fetchCategory()\n        }).catch(err => {\n          console.log(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消删除'\n        })\n      })\n    },\n    handleCreate: function () {\n      this.isEditForm = 0\n      this.category = this.getFormObject()\n      this.title = \"新增分类\"\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    handleEdit: function (scope) {\n      info(scope.row.id).then(res => {\n        this.category = res.data\n        this.isEditForm = 1\n        this.title = \"修改分类\"\n        this.dialogFormVisible = true\n        this.$nextTick(() => {\n          this.$refs['dataForm'].clearValidate()\n        })\n      })\n    },\n    getFormObject: function () {\n      return {\n        name: '',\n        sort: ''\n      }\n    },\n    handleTop: function (scope) {\n      this.$confirm('此操作将会把该分类放到首位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        top(scope.row.id).then(res => {\n          this.$message.success(\"置顶分类成功\")\n          this.fetchCategory()\n        }).catch(err => {\n          console.log(err)\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消置顶'\n        })\n      })\n    },\n    resetQuery: function () {\n      this.params.name = null\n      this.fetchCategory()\n    },\n    handleFind: function () {\n      this.params.pageNo = 1;\n      this.fetchCategory ()\n    },\n\n    closeDialogForm: function () {\n      this.tag = {}\n      this.dialogFormVisible = false\n    },\n    handleSizeChange: function (val) {\n      this.params.pageSize = val\n      this.fetchCategory ()\n    },\n    handleCurrentChange: function (val) {\n      this.params.pageNo = val\n      this.fetchCategory ()\n    },\n    handleSelectionChange: function (val) {\n      this.multipleSelection = val\n    },\n    // 打开加载层\n    openLoading() {\n      this.loading = this.$loading({\n        lock: true,\n        text: \"正在加载中~\",\n        spinner: \"el-icon-loading\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n    },\n    dataFormat: function (time) {\n      return parseTime(time)\n    },\n  }\n}\n</script>\n"]}]}